{
  "name": "Stage change on Case or Alert with priority custom field",
  "description": "Triggers when the stage changes on a Case or Alert and the priority custom field is not empty",
  "type": "filteredEvent",
  "status": "tested",
  "filter": {
    "_and": [
      {
        "_is": {
          "action": "update"
        }
      },
      {
        "_or": [
          {
            "_is": {
              "objectType": "Alert"
            }
          },
          {
            "_is": {
              "objectType": "Case"
            }
          }
        ]
      },
      {
        "_contains": {
          "details.stage": ""
        }
      },
      {
        "_contains": {
          "context.customFieldValues.priority": ""
        }
      }
    ]
  }
}
